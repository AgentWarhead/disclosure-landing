<!DOCTYPE html>
<!-- CASE FILE: UAP-CIVILIAN-001 // IF YOU ARE READING THIS, YOU ARE ALREADY BEING MONITORED -->
<!-- COORDINATES: 37°14'06"N 115°48'40"W -->
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DISCLOSURE — ARE YOU READY?</title>
  <meta name="description" content="The government confirmed it. The question is no longer if. The question is whether you'll be ready."/>
  <meta property="og:title" content="DISCLOSURE — ARE YOU READY?"/>
  <meta property="og:description" content="The government confirmed it. They gave you one date. They gave you nothing else."/>
  <meta property="og:image" content="https://getdisclosure.app/og.png"/>
  <meta property="og:url" content="https://getdisclosure.app"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@disclosure_app"/>
  <meta name="twitter:image" content="https://getdisclosure.app/og.png"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Rajdhani:wght@400;500;700&display=swap" rel="stylesheet"/>
  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{--g:#39FF14;--a:#F59E0B;--r:#EF4444;--mono:'Share Tech Mono',monospace}
    html{scroll-behavior:smooth}
    body{background:#000;color:#fff;font-family:'Rajdhani',sans-serif;overflow-x:hidden;cursor:crosshair}

    /* SCANLINES */
    body::after{content:'';position:fixed;inset:0;
      background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,.05) 3px,rgba(0,0,0,.05) 4px);
      pointer-events:none;z-index:9000;animation:flicker 10s infinite}
    @keyframes flicker{0%,100%{opacity:1}97%{opacity:1}97.5%{opacity:.8}98%{opacity:1}99%{opacity:.9}}

    /* NOISE */
    body::before{content:'';position:fixed;inset:0;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.03'/%3E%3C/svg%3E");
      opacity:.5;pointer-events:none;z-index:0}

    /* STARS */
    #stars{position:fixed;inset:0;z-index:1;pointer-events:none}
    .star{position:absolute;border-radius:50%;background:#fff;animation:tw linear infinite}
    @keyframes tw{0%,100%{opacity:.04}50%{opacity:.65}}

    /* CURSOR */
    .cursor-ring{position:fixed;width:18px;height:18px;border:1px solid rgba(57,255,20,.35);border-radius:50%;pointer-events:none;z-index:9999;transform:translate(-50%,-50%);transition:all .08s ease;mix-blend-mode:screen}

    /* CRAFT CANVAS */
    #craft-canvas{position:absolute;inset:0;width:100%;height:100%;pointer-events:none;z-index:0}

    /* ── BOOT ── */
    #boot{position:fixed;inset:0;background:#000;z-index:10000;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;padding:20px}
    .boot-line{font-family:var(--mono);font-size:11px;letter-spacing:.2em;color:rgba(57,255,20,0);animation:boot-in .04s forwards}
    @keyframes boot-in{to{color:rgba(57,255,20,.75)}}
    #boot-bar{width:min(300px,80vw);height:1px;background:rgba(57,255,20,.1);margin-top:20px;overflow:hidden}
    #boot-progress{height:100%;background:var(--g);width:0;box-shadow:0 0 8px var(--g);transition:width .04s linear}
    .b-cursor{display:inline-block;animation:blink .5s step-end infinite}
    @keyframes blink{50%{opacity:0}}

    /* ── SCROLL REVEAL ── */
    .sr{opacity:0;transform:translateY(28px);transition:opacity .75s ease,transform .75s ease}
    .sr.vis{opacity:1;transform:translateY(0)}

    main{position:relative;z-index:2}

    /* ── NAV ── */
    .nav{position:fixed;top:0;left:0;right:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:10px 24px;background:rgba(0,0,0,.85);backdrop-filter:blur(16px);border-bottom:1px solid rgba(57,255,20,.06)}
    .nav-logo{font-family:var(--mono);font-size:10px;letter-spacing:.35em;color:var(--g);text-decoration:none}
    .nav-sig{display:flex;align-items:center;gap:8px;font-family:var(--mono);font-size:9px;letter-spacing:.2em;color:rgba(255,255,255,.18)}
    .live-dot{width:5px;height:5px;border-radius:50%;background:var(--g);animation:live 1.8s ease-in-out infinite;flex-shrink:0}
    @keyframes live{0%,100%{box-shadow:0 0 3px var(--g)}50%{box-shadow:0 0 12px var(--g),0 0 24px var(--g)}}

    /* ── HERO ── */
    .hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:80px 24px 60px;position:relative;overflow:hidden}
    .hero-orb{position:absolute;width:700px;height:700px;border-radius:50%;background:radial-gradient(circle,rgba(57,255,20,.025) 0%,transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%);animation:orb 7s ease-in-out infinite;pointer-events:none}
    @keyframes orb{0%,100%{opacity:.3;transform:translate(-50%,-50%) scale(1)}50%{opacity:.65;transform:translate(-50%,-50%) scale(1.1)}}

    .hero-kicker{font-family:var(--mono);font-size:11px;letter-spacing:.45em;color:rgba(245,158,11,.85);margin-bottom:24px}
    .hero-h{font-size:clamp(72px,16vw,200px);font-weight:700;line-height:.9;letter-spacing:-.03em;margin-bottom:20px;position:relative}

    /* Glitch */
    .glitch{position:relative;display:inline-block;color:#fff}
    .glitch::before,.glitch::after{content:attr(data-text);position:absolute;top:0;left:0;width:100%;height:100%}
    .glitch::before{color:rgba(57,255,20,.65);animation:ga 5s infinite;clip-path:polygon(0 0,100% 0,100% 40%,0 40%)}
    .glitch::after{color:rgba(239,68,68,.55);animation:gb 5s infinite;clip-path:polygon(0 60%,100% 60%,100% 100%,0 100%)}
    @keyframes ga{0%,90%,100%{transform:none;opacity:0}91%{transform:translateX(-4px);opacity:1}93%{transform:translateX(4px) skewX(3deg);opacity:.8}95%{transform:none;opacity:0}}
    @keyframes gb{0%,93%,100%{transform:none;opacity:0}94%{transform:translateX(4px);opacity:.9}96%{transform:translateX(-3px) skewX(-2deg);opacity:.7}98%{transform:none;opacity:0}}

    /* Change 8: screenshottable sub-line */
    .hero-intercept{font-family:var(--mono);font-size:clamp(10px,1.3vw,13px);letter-spacing:.4em;color:rgba(57,255,20,.55);margin-bottom:28px;text-transform:uppercase}

    .hero-l1,.hero-l2{font-size:clamp(20px,3.2vw,36px);font-weight:600;color:rgba(255,255,255,.82);letter-spacing:.04em;margin-bottom:8px}
    /* Change 4: personal hook */
    .hero-l3{font-size:clamp(22px,3.5vw,38px);font-weight:700;color:#fff;letter-spacing:.02em;margin-bottom:8px}
    .hero-l3 em{font-style:normal;color:var(--g)}
    .hero-l4{font-size:clamp(18px,2.5vw,26px);font-weight:600;color:rgba(255,255,255,.72);letter-spacing:.03em;margin-bottom:44px}
    .hero-l4 em{font-style:normal;color:var(--g)}

    .cta-btn{display:inline-block;font-family:var(--mono);font-size:13px;letter-spacing:.3em;color:#000;background:var(--g);padding:16px 40px;text-decoration:none;cursor:pointer;border:none;position:relative;overflow:hidden;transition:box-shadow .2s}
    .cta-btn::before{content:'';position:absolute;inset:0;background:rgba(255,255,255,.15);transform:translateX(-100%);transition:transform .2s}
    .cta-btn:hover::before{transform:translateX(0)}
    .cta-btn:hover{box-shadow:0 0 32px rgba(57,255,20,.6),0 0 64px rgba(57,255,20,.25)}

    /* Change 9: live counter */
    .hero-counter{display:flex;align-items:center;gap:10px;margin-top:28px;font-family:var(--mono);font-size:11px;letter-spacing:.2em;color:rgba(255,255,255,.55);flex-wrap:wrap;justify-content:center}
    .hc-num{color:rgba(57,255,20,.95)}
    .hc-live{font-family:var(--mono);font-size:10px;letter-spacing:.2em;color:rgba(57,255,20,.85);border:1px solid rgba(57,255,20,.3);padding:3px 10px}
    .hc-sep{color:rgba(255,255,255,.2)}

    /* ── MOMENT ── */
    .moment{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:80px 24px;position:relative}
    .moment-date{font-family:var(--mono);font-size:12px;letter-spacing:.45em;color:rgba(245,158,11,.8);margin-bottom:40px}
    .moment-h{font-size:clamp(40px,7.5vw,90px);font-weight:700;line-height:1.05;letter-spacing:-.02em;margin-bottom:44px}
    .moment-h em{font-style:normal;display:block;color:rgba(255,255,255,.55)}
    .moment-body{font-size:clamp(17px,2.2vw,23px);font-weight:500;color:rgba(255,255,255,.75);line-height:1.85;max-width:540px;margin:0 auto 44px}
    .moment-body strong{color:#fff;font-weight:700}
    .moment-line{width:1px;height:56px;background:linear-gradient(to bottom,rgba(57,255,20,.4),transparent);margin:0 auto 44px}
    /* Change 5: "one date" gut punch */
    .moment-punch{font-size:clamp(16px,2.4vw,24px);color:rgba(255,255,255,.75);max-width:480px;margin:0 auto;line-height:2;font-family:var(--mono);letter-spacing:.08em}
    .moment-punch strong{color:#fff;font-weight:700;display:block;font-size:clamp(20px,3vw,32px);margin:10px 0}
    .moment-punch em{font-style:normal;color:var(--g)}

    /* ── RULES ── */
    .rules{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 24px;position:relative;overflow:hidden}
    .rules-bg{position:absolute;font-family:var(--mono);font-size:clamp(80px,18vw,220px);font-weight:700;color:rgba(57,255,20,.018);pointer-events:none;white-space:nowrap;user-select:none;letter-spacing:-.05em}
    .rules-hdr{font-family:var(--mono);font-size:11px;letter-spacing:.45em;color:rgba(57,255,20,.65);margin-bottom:56px;text-align:center}
    .rules-inner{width:100%;max-width:620px}

    .rule-row{display:flex;align-items:baseline;gap:24px;padding:22px 0;border-bottom:1px solid rgba(255,255,255,.07)}
    .rule-n{font-family:var(--mono);font-size:12px;letter-spacing:.3em;color:rgba(57,255,20,.7);flex-shrink:0;width:36px}
    .rule-t{font-size:clamp(26px,4.8vw,56px);font-weight:700;letter-spacing:-.01em;color:#fff;line-height:1.05}
    /* Change 2: alarming rule 04 */
    .rule-row.alarm .rule-t{color:var(--g)}
    .rule-row.alarm .rule-n{color:rgba(57,255,20,.8)}

    /* Change 3: partially redacted rule 07 */
    .rule-partial{padding:24px 0 0;border-top:1px solid rgba(245,158,11,.15);margin-top:8px}
    .rule-partial .rule-n{color:rgba(245,158,11,.8)}
    .rule-partial-text{font-family:var(--mono);font-size:clamp(12px,1.5vw,15px);letter-spacing:.08em;color:rgba(255,255,255,.75);line-height:2.2;max-width:580px}
    .rx{background:rgba(255,255,255,.15);color:transparent;border-radius:2px;padding:0 6px;display:inline-block;cursor:pointer;transition:all .2s;position:relative;user-select:none}
    .rx:hover{background:rgba(245,158,11,.3);color:rgba(245,158,11,.9)}
    .rx::after{content:'REDACTED';position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:8px;letter-spacing:.2em;color:rgba(255,255,255,.35);pointer-events:none}
    .rx:hover::after{content:'CLASSIFIED'}

    .rule-count{margin-top:32px;font-family:var(--mono);font-size:12px;letter-spacing:.3em;color:rgba(245,158,11,.8);text-align:center}

    /* ── QUIZ ── */
    .quiz{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 24px;position:relative}
    .quiz-eyebrow{font-family:var(--mono);font-size:11px;letter-spacing:.45em;color:rgba(57,255,20,.75);margin-bottom:40px;text-align:center}
    .quiz-h{font-size:clamp(30px,5vw,60px);font-weight:700;line-height:1.1;letter-spacing:-.02em;text-align:center;margin-bottom:48px}
    .quiz-h em{font-style:normal;color:var(--g)}

    .quiz-card{width:100%;max-width:580px;margin:0 auto}
    .q-step{display:none}
    .q-step.active{display:block}

    .q-num{font-family:var(--mono);font-size:11px;letter-spacing:.4em;color:rgba(255,255,255,.5);margin-bottom:16px}
    .q-text{font-size:clamp(22px,3.2vw,36px);font-weight:700;color:#fff;line-height:1.3;margin-bottom:32px;letter-spacing:-.01em}

    .q-opts{display:flex;flex-direction:column;gap:10px}
    .q-opt{font-family:var(--mono);font-size:13px;letter-spacing:.12em;color:rgba(255,255,255,.8);background:transparent;border:1px solid rgba(255,255,255,.18);padding:18px 22px;cursor:pointer;text-align:left;transition:all .15s;position:relative;overflow:hidden}
    .q-opt::before{content:'';position:absolute;inset:0;background:rgba(57,255,20,.06);transform:translateX(-100%);transition:transform .2s}
    .q-opt:hover{border-color:rgba(57,255,20,.5);color:#fff}
    .q-opt:hover::before{transform:translateX(0)}

    /* Score reveal */
    .quiz-result{display:none;text-align:center}
    .qr-condition{font-family:var(--mono);font-size:11px;letter-spacing:.45em;margin-bottom:16px;padding:6px 16px;display:inline-block;border:1px solid}
    .qr-condition.red{color:rgba(239,68,68,.8);border-color:rgba(239,68,68,.25)}
    .qr-condition.orange{color:rgba(245,158,11,.8);border-color:rgba(245,158,11,.25)}
    .qr-condition.yellow{color:rgba(57,255,20,.8);border-color:rgba(57,255,20,.25)}
    .qr-score-wrap{margin:16px 0 24px;position:relative;display:inline-block}
    .qr-score{font-size:clamp(72px,16vw,140px);font-weight:700;line-height:1;letter-spacing:-.04em}
    .qr-score-suffix{font-family:var(--mono);font-size:20px;color:rgba(255,255,255,.6);vertical-align:super;letter-spacing:.1em}
    .qr-label{font-size:clamp(17px,2.5vw,24px);font-weight:600;color:rgba(255,255,255,.88);max-width:440px;margin:0 auto 32px;line-height:1.55}
    .qr-cta-wrap{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .qr-cta{font-family:var(--mono);font-size:12px;letter-spacing:.2em;padding:15px 30px;cursor:pointer;border:none;transition:all .15s}
    .qr-cta.primary{background:var(--g);color:#000;font-weight:700}
    .qr-cta.primary:hover{box-shadow:0 0 28px rgba(57,255,20,.6)}
    .qr-cta.secondary{background:transparent;color:rgba(255,255,255,.75);border:1px solid rgba(255,255,255,.25)}
    .qr-cta.secondary:hover{border-color:rgba(57,255,20,.5);color:var(--g)}
    .qr-share-note{font-family:var(--mono);font-size:10px;letter-spacing:.2em;color:rgba(255,255,255,.45);margin-top:16px}

    /* ── ACCESS GATE ── */
    .gate{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:80px 24px;position:relative}
    .gate::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at center bottom,rgba(57,255,20,.04) 0%,transparent 60%);pointer-events:none}
    .gate-eyebrow{font-family:var(--mono);font-size:11px;letter-spacing:.45em;color:rgba(57,255,20,.75);margin-bottom:32px}
    .gate-h{font-size:clamp(34px,6vw,78px);font-weight:700;line-height:1.1;letter-spacing:-.02em;margin-bottom:20px}
    .gate-h em{font-style:normal;color:var(--g)}
    .gate-sub{font-size:clamp(17px,2.2vw,22px);color:rgba(255,255,255,.78);max-width:460px;margin:0 auto 44px;line-height:1.75;font-weight:500}
    .gate-sub strong{color:#fff;font-weight:700}

    .gate-form-wrap{width:100%;max-width:480px;margin:0 auto}
    .gate-form{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    .gate-input{flex:1;min-width:220px;background:rgba(255,255,255,.04);border:1px solid rgba(57,255,20,.15);color:#fff;font-family:var(--mono);font-size:12px;letter-spacing:.15em;padding:15px 18px;outline:none;transition:border .15s}
    .gate-input::placeholder{color:rgba(255,255,255,.4)}
    .gate-input:focus{border-color:rgba(57,255,20,.5);background:rgba(57,255,20,.03)}
    .gate-submit{font-family:var(--mono);font-size:12px;letter-spacing:.2em;color:#000;background:var(--g);border:none;padding:15px 26px;cursor:pointer;transition:box-shadow .15s;white-space:nowrap;font-weight:700}
    .gate-submit:hover{box-shadow:0 0 28px rgba(57,255,20,.6)}
    .gate-note{font-family:var(--mono);font-size:10px;letter-spacing:.18em;color:rgba(255,255,255,.45)}

    /* Change 7: meaningful after-signup moment */
    .gate-success{display:none;text-align:left;border:1px solid rgba(57,255,20,.2);background:rgba(57,255,20,.03);padding:24px 28px}
    .gs-t{font-family:var(--mono);font-size:14px;letter-spacing:.3em;color:var(--g);margin-bottom:6px;font-weight:700}
    .gs-num{font-family:var(--mono);font-size:11px;letter-spacing:.18em;color:rgba(57,255,20,.8);margin-bottom:16px}
    .gs-rule{font-family:var(--mono);font-size:13px;letter-spacing:.08em;color:rgba(255,255,255,.78);line-height:1.9;border-top:1px solid rgba(57,255,20,.12);padding-top:16px;margin-top:4px}
    .gs-rule strong{color:rgba(245,158,11,.95);display:block;font-size:11px;letter-spacing:.28em;margin-bottom:8px}
    .gs-rule em{font-style:normal;color:rgba(255,255,255,.5)}

    /* Change 9: live stats */
    .gate-stats{display:flex;gap:24px;margin-top:40px;justify-content:center;flex-wrap:wrap}
    .gst{text-align:center}
    .gst-n{font-family:var(--mono);font-size:28px;color:var(--g);display:block;line-height:1}
    .gst-l{font-family:var(--mono);font-size:10px;letter-spacing:.3em;color:rgba(255,255,255,.55);display:block;margin-top:6px}
    .gst-live{font-family:var(--mono);font-size:10px;color:rgba(57,255,20,.8);display:block;margin-top:3px}
    .gst-sep{color:rgba(255,255,255,.2);font-size:28px;line-height:1}

    /* ── SHARE ── */
    .share{padding:80px 24px;display:flex;flex-direction:column;align-items:center;text-align:center;border-top:1px solid rgba(255,255,255,.04)}
    .share-pre{font-family:var(--mono);font-size:11px;letter-spacing:.4em;color:rgba(255,255,255,.45);margin-bottom:28px}
    .share-h{font-size:clamp(24px,4vw,48px);font-weight:700;color:rgba(255,255,255,.9);margin-bottom:8px}
    .share-h em{font-style:normal;color:#fff}
    /* Change 6: pre-written forward text */
    .share-sub{font-size:clamp(15px,2vw,20px);color:rgba(255,255,255,.65);margin-bottom:16px;font-weight:500}
    .share-forward{font-family:var(--mono);font-size:13px;letter-spacing:.06em;color:rgba(255,255,255,.8);background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.15);padding:20px 24px;max-width:520px;margin:0 auto 28px;line-height:1.8;cursor:pointer;transition:border .15s;text-align:left}
    .share-forward:hover{border-color:rgba(57,255,20,.4);color:#fff}
    .share-forward-label{font-size:9px;letter-spacing:.3em;color:rgba(57,255,20,.6);margin-bottom:10px;display:block}
    .share-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
    .share-btn{font-family:var(--mono);font-size:11px;letter-spacing:.2em;padding:13px 24px;border:1px solid rgba(255,255,255,.2);color:rgba(255,255,255,.72);cursor:pointer;background:transparent;transition:all .15s}
    .share-btn:hover{border-color:rgba(57,255,20,.5);color:var(--g)}
    #copy-confirm,#fwd-confirm{font-family:var(--mono);font-size:10px;letter-spacing:.3em;color:rgba(57,255,20,.8);margin-top:12px;opacity:0;transition:opacity .3s;text-align:center}

    /* ── FOOTER ── */
    footer{padding:24px;text-align:center;border-top:1px solid rgba(255,255,255,.04)}
    .ft-t{font-family:var(--mono);font-size:10px;letter-spacing:.3em;color:rgba(255,255,255,.35)}
    .ft-b{font-family:var(--mono);font-size:8px;letter-spacing:.1em;color:rgba(255,255,255,.05);cursor:pointer;margin-top:8px;transition:color .3s}
    .ft-b:hover{color:rgba(57,255,20,.5)}

    /* ── ALERT ── */
    #alert-pop{position:fixed;bottom:24px;right:24px;width:272px;background:rgba(0,0,0,.95);border:1px solid rgba(239,68,68,.22);padding:16px 20px;z-index:5000;transform:translateY(120px);opacity:0;transition:all .4s;font-family:var(--mono)}
    #alert-pop.show{transform:translateY(0);opacity:1}
    .ap-tag{font-size:10px;letter-spacing:.3em;color:rgba(239,68,68,.9);margin-bottom:8px;font-weight:700}
    .ap-body{font-size:11px;letter-spacing:.06em;color:rgba(255,255,255,.8);line-height:1.65}
    .ap-close{position:absolute;top:10px;right:12px;color:rgba(255,255,255,.25);cursor:pointer;font-size:12px}
  </style>
</head>
<body>

<div class="cursor-ring" id="cursor"></div>
<div id="stars"></div>

<!-- BOOT -->
<div id="boot">
  <div id="boot-lines"></div>
  <div id="boot-bar"><div id="boot-progress"></div></div>
</div>

<main>
  <nav class="nav">
    <a href="/" class="nav-logo">DISCLOSURE</a>
    <div class="nav-sig"><div class="live-dot"></div><span>SIGNAL ACQUIRED</span></div>
  </nav>

  <!-- ══════════════════════════════════════════
       HERO
  ══════════════════════════════════════════ -->
  <section class="hero">
    <canvas id="craft-canvas" aria-hidden="true"></canvas>
    <div class="hero-orb"></div>

    <div class="hero-kicker sr">CASE FILE: UAP-CIVILIAN-001 // DECLASSIFIED</div>

    <!-- Change 8 -->
    <p class="hero-intercept sr">// IF YOU ARE READING THIS, SOMETHING FOUND YOU FIRST //</p>

    <h1 class="hero-h sr">
      <span class="glitch" data-text="DISCLOSURE">DISCLOSURE</span>
    </h1>

    <p class="hero-l1 sr">The government confirmed it.</p>
    <p class="hero-l2 sr">The question is no longer <em style="font-style:normal;color:rgba(255,255,255,.72)">if.</em></p>
    <!-- Change 4 -->
    <p class="hero-l3 sr">Most people will not be ready.</p>
    <p class="hero-l4 sr">You <em>still can be.</em></p>

    <a href="#quiz" class="cta-btn sr">TAKE THE READINESS TEST →</a>

    <!-- Change 9: live counter -->
    <div class="hero-counter sr">
      <div class="live-dot" style="width:4px;height:4px"></div>
      <span class="hc-num" id="hero-count">—</span>
      <span>civilians briefed</span>
      <span class="hc-sep">·</span>
      <span class="hc-live" id="hero-live">+— this hour</span>
      <span class="hc-sep">·</span>
      <span>next wave</span>
      <span class="hc-num" id="hero-timer">--:--:--</span>
    </div>
  </section>

  <!-- ══════════════════════════════════════════
       THE MOMENT
  ══════════════════════════════════════════ -->
  <section class="moment">
    <div class="moment-date sr">30 SEPTEMBER 2025 — WASHINGTON D.C.</div>

    <h2 class="moment-h sr">
      The government<br>
      <em>confirmed it.</em>
    </h2>

    <p class="moment-body sr">
      Intelligence officials testified <strong>under oath.</strong><br>
      Over 40 witnesses signed NDAs.<br>
      A task force was formed. Then <strong>went silent.</strong>
    </p>

    <div class="moment-line sr"></div>

    <!-- Change 5 -->
    <div class="moment-punch sr">
      They gave you one date.<br>
      <strong>September 30, 2025.</strong>
      They gave you <em>nothing else.</em>
    </div>
  </section>

  <!-- ══════════════════════════════════════════
       THE RULES
  ══════════════════════════════════════════ -->
  <section class="rules">
    <div class="rules-bg" aria-hidden="true">RULES</div>
    <div class="rules-hdr sr">// BRIEFING EXCERPT · RULE SET ALPHA //</div>

    <div class="rules-inner">
      <div class="rule-row sr">
        <span class="rule-n">01</span>
        <span class="rule-t">DO NOT PANIC.</span>
      </div>
      <div class="rule-row sr">
        <span class="rule-n">02</span>
        <span class="rule-t">DO NOT ENGAGE FIRST.</span>
      </div>
      <div class="rule-row sr">
        <span class="rule-n">03</span>
        <span class="rule-t">DO NOT BE ALONE.</span>
      </div>
      <!-- Change 2: the alarming one -->
      <div class="rule-row alarm sr">
        <span class="rule-n">04</span>
        <span class="rule-t">DO NOT APPROACH THE LIGHT.</span>
      </div>

      <!-- Change 3: partial redaction -->
      <div class="rule-partial sr">
        <div style="display:flex;align-items:baseline;gap:24px">
          <span class="rule-n">07</span>
          <p class="rule-partial-text">
            If a craft comes within <span class="rx" onclick="void(0)">████</span> meters,
            do not attempt to <span class="rx" onclick="void(0)">██████████████</span>.
            The outcome in <span class="rx" onclick="void(0)">██</span>% of documented cases was irreversible.
          </p>
        </div>
      </div>

      <p class="rule-count sr">// 47 MORE RULES IN THE FULL BRIEFING //</p>
    </div>
  </section>

  <!-- ══════════════════════════════════════════
       READINESS QUIZ  (Change 1)
  ══════════════════════════════════════════ -->
  <section id="quiz" class="quiz">
    <div class="quiz-eyebrow sr">CIVILIAN READINESS ASSESSMENT // REAL-TIME ANALYSIS</div>
    <h2 class="quiz-h sr">What's your<br><em>readiness score?</em></h2>

    <div class="quiz-card sr">
      <!-- Q1 -->
      <div class="q-step active" id="q1">
        <div class="q-num">QUESTION 01 OF 03</div>
        <p class="q-text">Have you ever seen something in the sky you couldn't explain?</p>
        <div class="q-opts">
          <button class="q-opt" onclick="answer(1,30)">Yes. I never reported it.</button>
          <button class="q-opt" onclick="answer(1,20)">Once. I convinced myself it was nothing.</button>
          <button class="q-opt" onclick="answer(1,0)">No. I don't look up.</button>
        </div>
      </div>
      <!-- Q2 -->
      <div class="q-step" id="q2">
        <div class="q-num">QUESTION 02 OF 03</div>
        <p class="q-text">Do you know what to do in the first 3 minutes of contact?</p>
        <div class="q-opts">
          <button class="q-opt" onclick="answer(2,30)">I've thought about this seriously.</button>
          <button class="q-opt" onclick="answer(2,10)">I assumed there would be instructions.</button>
          <button class="q-opt" onclick="answer(2,0)">I assumed it would never happen.</button>
        </div>
      </div>
      <!-- Q3 -->
      <div class="q-step" id="q3">
        <div class="q-num">QUESTION 03 OF 03</div>
        <p class="q-text">If it happened tonight — who would you call first?</p>
        <div class="q-opts">
          <button class="q-opt" onclick="answer(3,30)">Someone I've already talked to about this.</button>
          <button class="q-opt" onclick="answer(3,15)">Whoever answered. I'd figure it out.</button>
          <button class="q-opt" onclick="answer(3,0)">I don't know. I'd be alone in this.</button>
        </div>
      </div>
      <!-- Result -->
      <div class="quiz-result" id="quiz-result">
        <div class="qr-condition" id="qr-cond">CONDITION RED</div>
        <div class="qr-score-wrap">
          <span class="qr-score" id="qr-score">17</span><span class="qr-score-suffix">/100</span>
        </div>
        <p class="qr-label" id="qr-label">You are not ready. Most civilians aren't. That's exactly why this briefing exists.</p>
        <div class="qr-cta-wrap">
          <button class="qr-cta primary" onclick="document.getElementById('access').scrollIntoView({behavior:'smooth'})">GET THE BRIEFING →</button>
          <button class="qr-cta secondary" onclick="shareScore()">SHARE MY SCORE</button>
        </div>
        <p class="qr-share-note">Results are automatically saved to your briefing profile.</p>
      </div>
    </div>
  </section>

  <!-- ══════════════════════════════════════════
       ACCESS GATE
  ══════════════════════════════════════════ -->
  <section id="access" class="gate">
    <div class="gate-eyebrow sr">CIVILIAN BRIEFING PROGRAM // OPEN ENROLLMENT</div>

    <h2 class="gate-h sr">
      Knowledge<br>
      <em>is survival.</em>
    </h2>

    <p class="gate-sub sr">
      The first contact preparation manual.<br>
      <strong>Free. For civilians. Right now.</strong>
    </p>

    <div class="gate-form-wrap sr">
      <form class="gate-form" id="gate-form" onsubmit="handleAccess(event)">
        <input class="gate-input" id="gate-email" type="email" placeholder="YOUR CONTACT EMAIL" required autocomplete="email"/>
        <button class="gate-submit" type="submit" id="gate-submit-btn">I'M READY →</button>
      </form>
      <!-- Change 7: meaningful success moment -->
      <div class="gate-success" id="gate-success">
        <div class="gs-t">◉ CLEARANCE GRANTED</div>
        <div class="gs-num" id="gs-num">YOU ARE CIVILIAN #— · ACCESS LOGGED · BRIEFING INCOMING</div>
        <div class="gs-rule">
          <strong>// RULE 04 — FIRST TRANSMISSION //</strong>
          You will receive this in your first briefing email.<br>
          This rule is never posted publicly.<br>
          <em>The full context changes everything.</em>
        </div>
      </div>
      <p class="gate-note" id="gate-note">No spam. No government involvement. Just the truth.</p>
    </div>

    <!-- Change 9 -->
    <div class="gate-stats sr">
      <div class="gst">
        <span class="gst-n" id="stat-count">—</span>
        <span class="gst-l">CIVILIANS BRIEFED</span>
        <span class="gst-live" id="stat-live">+— THIS HOUR</span>
      </div>
      <span class="gst-sep">·</span>
      <div class="gst">
        <span class="gst-n" id="stat-timer">--:--:--</span>
        <span class="gst-l">NEXT WAVE</span>
      </div>
      <span class="gst-sep">·</span>
      <div class="gst">
        <span class="gst-n">FREE</span>
        <span class="gst-l">ALWAYS</span>
      </div>
    </div>
  </section>

  <!-- ══════════════════════════════════════════
       SHARE  (Change 6)
  ══════════════════════════════════════════ -->
  <section class="share">
    <p class="share-pre sr">// TRANSMISSION COMPLETE //</p>
    <h2 class="share-h sr">If you're reading this,<br><em>you already know.</em></h2>
    <p class="share-sub sr">Pass the briefing to someone who isn't ready yet.</p>

    <!-- Pre-written forward text -->
    <div class="share-forward sr" onclick="copyForward()" title="Click to copy">
      <span class="share-forward-label">// COPY THIS EXACT MESSAGE //</span>
      "I just found something you should see. Don't Google it first. Just read it: getdisclosure.app"
    </div>
    <div id="fwd-confirm">MESSAGE COPIED · SEND IT</div>

    <div class="share-row sr">
      <button class="share-btn" onclick="copyLink()">[ COPY LINK ]</button>
      <a class="share-btn" href="https://twitter.com/intent/tweet?text=I%20just%20found%20something%20you%20should%20see.%20Don%27t%20Google%20it%20first.%20Just%20read%20it.%20getdisclosure.app%20%40disclosure_app" target="_blank" rel="noopener">[ POST ON X ]</a>
    </div>
    <div id="copy-confirm">LINK COPIED · PASS IT ON</div>
  </section>
</main>

<footer>
  <div class="ft-t">DISCLOSURE // GETDISCLOSURE.APP // @DISCLOSURE_APP</div>
  <div class="ft-b" onclick="this.textContent='IT\'S REAL';this.style.color='rgba(57,255,20,.55)'" title="Decode">
    01001001 01010100 00100111 01010011 00100000 01010010 01000101 01000001 01001100
  </div>
</footer>

<div id="alert-pop">
  <div class="ap-tag">◉ NOTICE</div>
  <div class="ap-body" id="alert-text">Pattern detected. You have been on this frequency for 30 seconds.</div>
  <span class="ap-close" onclick="document.getElementById('alert-pop').classList.remove('show')">✕</span>
</div>

<!-- ══════════════════════════════════════════
     JAVASCRIPT
══════════════════════════════════════════ -->
<script>
// ── Supabase ──────────────────────────────────
const SUPA_URL  = 'https://bexjbozbrhijtjombxkm.supabase.co';
const SUPA_KEY  = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJleGpib3picmhpanRqb21ieGttIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE1NzEyNTQsImV4cCI6MjA4NzE0NzI1NH0.h3TJJ599oOoKv3RA8QfELmwzvsYi1hhuxGau842P6hs';
const sb = window.supabase?.createClient(SUPA_URL, SUPA_KEY);

// ── Quiz state ────────────────────────────────
let quizScore = 0;
let savedReadinessScore = null;

function answer(q, pts) {
  quizScore += pts;
  document.getElementById('q' + q).classList.remove('active');
  if (q < 3) {
    document.getElementById('q' + (q + 1)).classList.add('active');
  } else {
    showResult();
  }
}

function showResult() {
  const el = document.getElementById('quiz-result');
  const steps = document.querySelectorAll('.q-step');
  steps.forEach(s => s.style.display = 'none');

  const pct = Math.round((quizScore / 90) * 100);
  savedReadinessScore = pct;

  let cond, cls, label;
  if (pct >= 66) {
    cond = 'CONDITION YELLOW'; cls = 'yellow';
    label = 'Above average readiness. You\'ve been paying attention. The briefing will fill the critical gaps.';
  } else if (pct >= 33) {
    cond = 'CONDITION ORANGE'; cls = 'orange';
    label = 'Partial awareness. You know something is happening. You\'re not ready for what it means.';
  } else {
    cond = 'CONDITION RED'; cls = 'red';
    label = 'Critical readiness gap. You\'re part of the unprepared majority. That can change today.';
  }

  document.getElementById('qr-cond').textContent = cond;
  document.getElementById('qr-cond').className = 'qr-condition ' + cls;
  document.getElementById('qr-score').textContent = pct;
  document.getElementById('qr-score').style.color = cls === 'red' ? '#EF4444' : cls === 'orange' ? '#F59E0B' : '#39FF14';
  document.getElementById('qr-label').textContent = label;

  el.style.display = 'block';
  el.classList.add('sr');
  setTimeout(() => el.classList.add('vis'), 50);
}

function shareScore() {
  const pct = savedReadinessScore ?? 0;
  const url = `https://twitter.com/intent/tweet?text=My%20civilian%20readiness%20score%20is%20${pct}%2F100.%20What%27s%20yours%3F%20getdisclosure.app`;
  window.open(url, '_blank');
}

// ── Boot sequence ─────────────────────────────
const BOOT = [
  'INITIALIZING CIVILIAN BRIEFING SYSTEM...',
  'CASE FILE: UAP-CIVILIAN-001',
  'COORDINATES: 37°14\'06"N 115°48\'40"W',
  'CLEARANCE LEVEL: UNCLASSIFIED',
  'ESTABLISHING SECURE CONNECTION...',
  'CONNECTION ESTABLISHED.',
  'WELCOME, CIVILIAN.'
];

(function boot() {
  const el = document.getElementById('boot-lines');
  const bar = document.getElementById('boot-progress');
  let i = 0;
  function next() {
    if (i >= BOOT.length) {
      setTimeout(() => {
        const b = document.getElementById('boot');
        b.style.transition = 'opacity .6s';
        b.style.opacity = '0';
        setTimeout(() => { b.style.display = 'none'; initPage(); }, 660);
      }, 550);
      return;
    }
    const d = document.createElement('div');
    d.className = 'boot-line'; d.textContent = BOOT[i++];
    el.appendChild(d);
    bar.style.width = Math.round((i / BOOT.length) * 100) + '%';
    setTimeout(next, i < 6 ? 210 : 380);
  }
  setTimeout(next, 380);
})();

// ── Stars ─────────────────────────────────────
function initStars() {
  const c = document.getElementById('stars'), f = document.createDocumentFragment();
  for (let i = 0; i < 180; i++) {
    const s = document.createElement('div');
    const sz = Math.random() < .9 ? Math.random() * 1.5 + .5 : Math.random() * 2.5 + 1.5;
    s.className = 'star';
    s.style.cssText = `left:${Math.random()*100}%;top:${Math.random()*100}%;width:${sz}px;height:${sz}px;animation-duration:${Math.random()*5+3}s;animation-delay:${Math.random()*6}s`;
    f.appendChild(s);
  }
  c.appendChild(f);
}
initStars();

// ── Craft canvas ──────────────────────────────
(function craftCanvas() {
  const canvas = document.getElementById('craft-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let W, H, CX, CY, beamA = 0, beamOn = false, beamHold = 0, nextBeam = Math.random()*14000+10000, lastBeam = 0;

  function resize() {
    W = canvas.width = canvas.offsetWidth;
    H = canvas.height = canvas.offsetHeight;
    CX = W/2; CY = H*.44;
  }
  window.addEventListener('resize', resize); resize();

  function draw(ts) {
    ctx.clearRect(0,0,W,H);
    const scale = 1 + .09*Math.sin(ts*.0000585);
    const rot = ts*.000055;
    const base = Math.min(W,H)*.68*scale;
    const V = [[0,-base*.52],[-base*.70,base*.38],[base*.70,base*.38]];

    // Earth arc
    const ER=W*1.3, EY=H+ER*.79;
    const ag=ctx.createRadialGradient(CX,EY,ER*.975,CX,EY,ER);
    ag.addColorStop(0,'rgba(57,255,20,0.06)'); ag.addColorStop(1,'rgba(57,255,20,0)');
    ctx.beginPath(); ctx.arc(CX,EY,ER,0,Math.PI*2); ctx.fillStyle=ag; ctx.fill();

    // Ambient craft halo — makes the ship's presence felt before you see the edges
    const haloA = 0.07 + 0.04*Math.sin(ts*.0009);
    const hg = ctx.createRadialGradient(CX,CY,0,CX,CY,base*.9);
    hg.addColorStop(0,`rgba(57,255,20,${haloA})`);
    hg.addColorStop(0.35,`rgba(57,255,20,${haloA*.35})`);
    hg.addColorStop(1,'rgba(57,255,20,0)');
    ctx.beginPath(); ctx.arc(CX,CY,base*.9,0,Math.PI*2); ctx.fillStyle=hg; ctx.fill();

    ctx.save(); ctx.translate(CX,CY); ctx.rotate(rot);

    // Body — dark green tint so it reads against pure black
    ctx.beginPath(); ctx.moveTo(V[0][0],V[0][1]); ctx.lineTo(V[1][0],V[1][1]); ctx.lineTo(V[2][0],V[2][1]); ctx.closePath();
    ctx.fillStyle='rgba(6,18,6,.82)'; ctx.fill();

    // Edge glow — with canvas shadow for bloom effect
    const edgeA = .20 + .12*Math.sin(ts*.0009);
    ctx.shadowBlur = 18;
    ctx.shadowColor = 'rgba(57,255,20,0.65)';
    ctx.strokeStyle=`rgba(57,255,20,${edgeA})`; ctx.lineWidth=2; ctx.stroke();
    ctx.shadowBlur = 0;

    // Panel lines — now visible with subtle glow
    const panelA = .10 + .06*Math.sin(ts*.0007);
    ctx.shadowBlur = 6; ctx.shadowColor = 'rgba(57,255,20,0.5)';
    ctx.strokeStyle=`rgba(57,255,20,${panelA})`; ctx.lineWidth=1;
    ctx.beginPath(); ctx.moveTo(0,V[0][1]); ctx.lineTo(0,V[2][1]); ctx.stroke();
    const py=V[0][1]+(V[2][1]-V[0][1])*.38;
    ctx.beginPath(); ctx.moveTo(-base*.32,py); ctx.lineTo(base*.32,py); ctx.stroke();
    ctx.shadowBlur = 0;

    // Vertex lights — larger, brighter, more corona
    [0,2.09,4.19].forEach((ph,i) => {
      const p=.4+.6*(.5+.5*Math.sin(ts*.0022+ph)), r=3+p*3;
      // Wide corona glow
      const g=ctx.createRadialGradient(V[i][0],V[i][1],0,V[i][0],V[i][1],r*8);
      g.addColorStop(0,`rgba(57,255,20,${p*.75})`);
      g.addColorStop(0.25,`rgba(57,255,20,${p*.3})`);
      g.addColorStop(1,'rgba(57,255,20,0)');
      ctx.beginPath(); ctx.arc(V[i][0],V[i][1],r*8,0,Math.PI*2); ctx.fillStyle=g; ctx.fill();
      // Bright core
      ctx.shadowBlur=10; ctx.shadowColor='rgba(57,255,20,1)';
      ctx.beginPath(); ctx.arc(V[i][0],V[i][1],r,0,Math.PI*2);
      ctx.fillStyle=`rgba(57,255,20,${p})`; ctx.fill();
      ctx.shadowBlur=0;
    });

    // Underside glow — much bigger and brighter
    const up=.5+.5*Math.sin(ts*.0013+1.2), uy=base*.14;
    const ug=ctx.createRadialGradient(0,uy,0,0,uy,base*.3);
    ug.addColorStop(0,`rgba(57,255,20,${.28*up})`);
    ug.addColorStop(0.4,`rgba(57,255,20,${.10*up})`);
    ug.addColorStop(1,'rgba(57,255,20,0)');
    ctx.beginPath(); ctx.ellipse(0,uy,base*.28,base*.13,0,0,Math.PI*2); ctx.fillStyle=ug; ctx.fill();

    ctx.restore();

    // Beam — brighter and fires more often
    const now=performance.now();
    if (!beamOn && (now-lastBeam)>nextBeam) { beamOn=true; beamA=0; beamHold=0; lastBeam=now; nextBeam=Math.random()*16000+8000; }
    if (beamOn) {
      if (beamA<1 && !beamHold) { beamA=Math.min(1,beamA+.018); }
      else {
        if (!beamHold) beamHold=now;
        if (now-beamHold>2400) { beamA-=.01; if (beamA<=0){beamOn=false;beamA=0;beamHold=0;} }
      }
      const bw=52*scale, bt=CY+base*.32*scale;
      const bg=ctx.createLinearGradient(CX,bt,CX,H);
      bg.addColorStop(0,`rgba(57,255,20,${.25*beamA})`);
      bg.addColorStop(.2,`rgba(57,255,20,${.12*beamA})`);
      bg.addColorStop(.6,`rgba(57,255,20,${.04*beamA})`);
      bg.addColorStop(1,'rgba(57,255,20,0)');
      ctx.beginPath(); ctx.rect(CX-bw/2,bt,bw,H-bt); ctx.fillStyle=bg; ctx.fill();
      ctx.strokeStyle=`rgba(57,255,20,${.18*beamA})`; ctx.lineWidth=.5;
      ctx.beginPath(); ctx.moveTo(CX-bw/2,bt); ctx.lineTo(CX-bw*2.2,H); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(CX+bw/2,bt); ctx.lineTo(CX+bw*2.2,H); ctx.stroke();
    }
    requestAnimationFrame(draw);
  }
  requestAnimationFrame(draw);
})();

// ── Cursor ────────────────────────────────────
function initCursor() {
  const r = document.getElementById('cursor');
  document.addEventListener('mousemove', e => { r.style.left=e.clientX+'px'; r.style.top=e.clientY+'px'; });
}

// ── Countdown ─────────────────────────────────
function initCountdown() {
  const EPOCH=1735689600000, INT=48*3600000;
  function tick() {
    const rem = INT - ((Date.now()-EPOCH) % INT);
    const h=Math.floor(rem/3600000), m=Math.floor((rem%3600000)/60000), s=Math.floor((rem%60000)/1000);
    const fmt=`${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    ['hero-timer','stat-timer'].forEach(id => { const el=document.getElementById(id); if(el) el.textContent=fmt; });
  }
  tick(); setInterval(tick,1000);
}

// ── Live count from Supabase ──────────────────
async function loadCount() {
  // Deterministic hourly join estimate (creates believability without fake data)
  const hour = new Date().getUTCHours();
  const peakMultiplier = hour >= 13 && hour <= 23 ? 1 : 0.5; // peak: 6am-4pm Pacific
  const hourlyJoins = Math.floor((Math.random() * 8 + 4) * peakMultiplier) + 1;

  // Try to get real count from Supabase
  let total = 1247; // Seed count
  if (sb) {
    try {
      const { data } = await sb.rpc('get_waitlist_count');
      if (data && data > 0) total = data + 1247; // Add seed offset
    } catch(_) {}
  }

  const totalFmt = total.toLocaleString();
  ['hero-count','stat-count'].forEach(id => { const el=document.getElementById(id); if(el) el.textContent=totalFmt; });
  ['hero-live','stat-live'].forEach(id => { const el=document.getElementById(id); if(el) el.textContent='+'+hourlyJoins+' this hour'; });
}

// ── Scroll reveal ─────────────────────────────
function initScrollReveal() {
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        const siblings = Array.from(e.target.parentElement.querySelectorAll('.sr:not(.vis)'));
        const idx = siblings.indexOf(e.target);
        setTimeout(() => e.target.classList.add('vis'), idx * 90);
        obs.unobserve(e.target);
      }
    });
  }, { threshold: 0.12 });
  document.querySelectorAll('.sr').forEach(el => obs.observe(el));
}

// ── Alert pop ─────────────────────────────────
function initAlert() {
  const total = document.getElementById('hero-count')?.textContent || '1,247';
  const count = Math.floor(Math.random()*80+1180);
  const alerts = [
    `You have been on this frequency for 30 seconds. Pattern logged.`,
    `Your connection origin has been identified. This is normal.`,
    `You are one of ${count.toLocaleString()} civilians accessing this file right now.`,
  ];
  document.getElementById('alert-text').textContent = alerts[Math.floor(Math.random()*3)];
  const pop = document.getElementById('alert-pop');
  setTimeout(() => { pop.classList.add('show'); setTimeout(() => pop.classList.remove('show'), 7000); }, 20000);
}

// ── Access form ───────────────────────────────
async function handleAccess(e) {
  e.preventDefault();
  const email = document.getElementById('gate-email').value.trim();
  const btn = document.getElementById('gate-submit-btn');
  btn.textContent = 'PROCESSING...'; btn.disabled = true;

  let civilianNum = null;

  if (sb) {
    try {
      const { data, error } = await sb.from('waitlist').insert([{
        email,
        readiness_score: savedReadinessScore,
        readiness_label: savedReadinessScore !== null
          ? (savedReadinessScore >= 66 ? 'CONDITION YELLOW' : savedReadinessScore >= 33 ? 'CONDITION ORANGE' : 'CONDITION RED')
          : null
      }]).select();
      if (!error && data?.[0]) {
        // Get count for civilian number
        const { data: cnt } = await sb.rpc('get_waitlist_count');
        civilianNum = cnt ? cnt + 1247 : null;
      }
    } catch(_) {}
  }

  // Show success
  document.getElementById('gate-form').style.display = 'none';
  document.getElementById('gate-note').style.display = 'none';
  const success = document.getElementById('gate-success');
  success.style.display = 'block';

  if (civilianNum) {
    document.getElementById('gs-num').textContent =
      `YOU ARE CIVILIAN #${civilianNum.toLocaleString()} · ACCESS LOGGED · BRIEFING INCOMING`;
    // Update counters
    const fmt = civilianNum.toLocaleString();
    ['hero-count','stat-count'].forEach(id => { const el=document.getElementById(id); if(el) el.textContent=fmt; });
  }
}

// ── Share functions ───────────────────────────
function copyLink() {
  navigator.clipboard.writeText('https://getdisclosure.app').catch(() => {
    const t = document.createElement('textarea'); t.value='https://getdisclosure.app';
    document.body.appendChild(t); t.select(); document.execCommand('copy'); document.body.removeChild(t);
  });
  const el = document.getElementById('copy-confirm');
  el.style.opacity='1'; setTimeout(()=>el.style.opacity='0',3200);
}

function copyForward() {
  const msg = 'I just found something you should see. Don\'t Google it first. Just read it: getdisclosure.app';
  navigator.clipboard.writeText(msg).catch(() => {
    const t=document.createElement('textarea'); t.value=msg;
    document.body.appendChild(t); t.select(); document.execCommand('copy'); document.body.removeChild(t);
  });
  const el=document.getElementById('fwd-confirm');
  el.style.opacity='1'; setTimeout(()=>el.style.opacity='0',3200);
}

// ── Init ──────────────────────────────────────
function initPage() {
  initCursor();
  initCountdown();
  initScrollReveal();
  initAlert();
  loadCount();

  // Hero items reveal on load
  document.querySelectorAll('.hero .sr').forEach((el,i) => {
    setTimeout(()=>el.classList.add('vis'), 200+i*110);
  });
}
</script>
</body>
</html>
